{"id":"01ges025mve0vk7v9vkypbn4dx","add_time_ms":1665138759324,"icon":"book","type":"doc","title":"字体对话框","_id":"49","content":"字体对话框\n\n这是一个选择字体的常见对话框.\n\nfontdialog.h\n\n    #include <wx/wx.h>\n    \n    class ChangeFont : public wxFrame\n    {\n    public:\n    　　ChangeFont(const wxString& title);\n    　　void OnOpen(wxCommandEvent& event);\n    \n    private:\n    　　wxStaticText *st;\n    };\n    \n    const int ID_FONTDIALOG = 1;\n\n\nfontdialog.cpp\n\n    #include <wx/fontdlg.h>\n    #include \"fontdialog.h\"\n    \n    ChangeFont::ChangeFont(const wxString & title)\n    　　: wxFrame(NULL, wxID_ANY, title, wxDefaultPosition, wxSize(300, 200))\n    {\n    　　wxPanel *panel = new wxPanel(this, -1);\n    　　wxMenuBar *menubar = new wxMenuBar;\n    　　wxMenu *file = new wxMenu;\n    　　file->Append(ID_FONTDIALOG, wxT(\"&Change font\"));\n    　　menubar->Append(file, wxT(\"&File\"));\n    　　SetMenuBar(menubar);\n    　　Connect(ID_FONTDIALOG, wxEVT_COMMAND_MENU_SELECTED,\n    　　wxCommandEventHandler(ChangeFont::OnOpen));\n    　　st = new wxStaticText(panel, wxID_ANY, wxT(\"The Agoge\"),\n    　　wxPoint(20, 20));\n    　　Center();\n    }\n    \n    void ChangeFont::OnOpen(wxCommandEvent& WXUNUSED(event))\n    {\n    　　wxFontDialog *fontDialog = new wxFontDialog(this);\n    　　if (fontDialog->ShowModal() == wxID_OK) {\n    　    st->SetFont(fontDialog->GetFontData().GetChosenFont());\n    　　}\n    }\n\n\n\nmain.h\n\n    #include <wx/wx.h>\n    class MyApp : public wxApp {\n    public:\n    　　virtual bool OnInit();\n    };\n\n\nmain.cpp\n\n    #include \"main.h\"\n    #include \"fontdialog.h\"\n\n    wxIMPLEMENT_APP(MyApp);\n\n    bool MyApp::OnInit() {\n      ChangeFont *change = new ChangeFont(wxT(\"Change font\"));\n      change->Show(true);\n      return true;\n    }\n\n\nCMakeLists.txt\n\n    cmake_minimum_required(VERSION 3.16)\n    project(FontDialg)\n    \n    set(CMAKE_CXX_STANDARD 14)\n    \n    #设置预编译指令\n    add_definitions(\n            -DwxMSVC_VERSION_AUTO=1\n            -DwxMSVC_VERSION_COMPAT=1\n    )\n    \n    #设置包含目录\n    include_directories(\n            $ENV{WXWIN}/include\n            $ENV{WXWIN}/lib/vc14x_lib/mswud\n    )\n    \n    #设置链接库目录\n    link_directories(\n            $ENV{WXWIN}/lib/vc14x_lib\n    )\n    \n    #添加可执行文件\n    add_executable (\n            ${PROJECT_NAME}\n            main.cpp main.h\n            fontdialog.cpp fontdialog.h\n    )\n    \n    #设置程序的属性\n    if (CMAKE_SYSTEM_NAME STREQUAL \"Windows\")\n        set_property(\n                TARGET ${PROJECT_NAME} PROPERTY WIN32_EXECUTABLE true\n        )\n    endif ()\n    \n    set_property(\n        TARGET ${PROJECT_NAME} PROPERTY MSVC_RUNTIME_LIBRARY \"MultiThreaded$<$<CONFIG:Debug>:Debug>\"\n    )\n    \n    #链接库到目标可执行文件\n    target_link_libraries(\n            ${PROJECT_NAME}\n            shlwapi.lib\n            version.lib\n            comctl32.lib\n            rpcrt4.lib\n            ws2_32.lib\n            wininet.lib\n            winmm.lib\n            wxmsw32ud_gl.lib\n            wxmsw32ud_stc.lib\n            wxmsw32ud_richtext.lib\n            wxmsw32ud_propgrid.lib\n            wxmsw32ud_ribbon.lib\n            wxmsw32ud_aui.lib\n            wxmsw32ud_xrc.lib\n            wxbase32ud_xml.lib\n            wxmsw32ud_qa.lib\n            wxmsw32ud_webview.lib\n            wxmsw32ud_html.lib\n            wxmsw32ud_media.lib\n            wxmsw32ud_adv.lib\n            wxmsw32ud_core.lib\n            wxbase32ud_net.lib\n            wxbase32ud.lib\n            wxscintillad.lib\n            wxexpatd.lib\n            wxtiffd.lib\n            wxjpegd.lib\n            wxpngd.lib\n            wxzlibd.lib\n            wxregexud.lib\n            wxmsw32u_gl.lib\n    )","edit_time_ms":1665149841812,"char_count":{"word":278,"char_without_spaces":2269,"char_with_spaces":3264}}