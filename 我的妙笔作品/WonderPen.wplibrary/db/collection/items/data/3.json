{"id":"01fnr125pwnb7fw7g7s4pf3hg8","type":"doc","content":"Win11子系统 Ubuntu 安装 mysql\r\n\r\n1.删掉之前安装的mysql, 没有安装过可以忽略.\r\n    sudo apt remove --purge *mysql*\r\n    sudo rm -rf /ect/mysql /var /lib/mysql\r\n    sudo apt remove --purge *mariadb*\r\n2.更新软件列表和软件\r\n    sudo apt update\t\t#更新软件列表\r\n    sudo apt upgrade\t#更新软件\t\r\n3.安装mysql-server\r\n    sudo apt install mysql-server\r\n    安装完后默认开启mysql服务,如果没有开启,可以在终端输入下面的命令开启.\r\n    sudo service mysql start.\r\n    开启服务可能会报错:\r\n    *starting MySQL database server mysqld:No directory, logging in with HOME=/\r\n    这是mysql日志输出目录没有权限导致的,解决方法是:\r\n    sudo service mysql stop #停止mysql服务\r\n    sudo usermod -d /var/lib/mysql/mysql #启用日志输出目录权限\r\n    sudo service mysql start #重启mysql服务\r\n4.登录mysql数据库\r\n    mysql -u root -p\t#登录mysql命令\r\n    Enter password: \t#单击回车键\r\n    ERROR 1698(28000): Access denied for user 'root'@'localhost'\r\n    表面mysql禁止用户'root'@'localhost'登入,解决办法是:\r\n    1.编辑mysql配置文件: sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf\r\n    在配置文件[mysqld]字段最后加入: skip-grant-tables #不使用密码登录mysql\r\n    再重新启动mysql: sudo service mysql restart\r\n    然后登录: mysql -u root -p\r\n    2.也可使用命令: mysqladmin -u root password [新的密码]\r\n    给root用户直接启用新的密码.\r\n5.切换数据库\r\n    use [数据库名];\r\n    例:use mysql;\r\n    修改user表属性: update user set plugin='mysql_native_password' where user='root';\r\n6.查询表\r\n    字段查询: \tselect [字段1名], [字段2名], [字段3名], ... from [表名];\r\n    全表查询: \tselect * from [表名];   \r\n7.退出mysql数据库\r\n    使用quit命令或者按ctrl+z组合键退出.\r\n8.使用windows数据库软件连接mysql\r\n    1.首先需要改变MySQL的配置,执行sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf.\r\n    2.将找到 bind-address = 127.0.0.1 并注释掉 → # bind-address = 127.0.0.1.\r\n    3.执行service mysql restart重启 MySQL 服务.\r\n    4.开启 MySQL 远程访问\r\n        1.首先登录MySQL.\r\n        2.执行：GRANT ALL PRIVILEGES ON *.* TO '用户名'@'%'IDENTIFIED BY '密码' WITH GRANT OPTION;新增远程访问用户和用户密码.\r\n        3.执行 flush privileges;刷新\r\n    5.打开windows上数据库软件的远程访问MySQL的 终端/客户端.","memo":"","add_time_ms":1637410097000,"_id":"3","title":"使用MySQL数据库"}