{"id":"01gz65efc5yh6b3ky5fpbbqy76","item_id":"01germh66qbvjwx354bbg0rvsw","add_time_ms":1682760482182,"hash":"492f8194c83392dc36ef4bdf904b6159","full_content":"绝对定位\n\n程序员以像素为单位指定每个小部件的位置和大小。当我们使用绝对定位时，我们必须了解以下几点:\n\n如果我们调整窗口的大小，小部件的大小和位置不会改变。\n应用程序在不同的平台上看起来不同(通常很糟糕)。\n在我们的应用程序中改变字体可能会破坏布局。\n如果我们决定改变我们的布局，我们必须完全重做您的布局，这是乏味和耗时的。\n在某些情况下，我们可以使用绝对定位，例如在简单的教程中。我们不想让例子变得太困难，所以我们经常使用绝对定位来解释某个话题。但大多数情况下，在现实世界的程序中，程序员使用的是尺寸器。\n\n在我们的示例中，我们有一个简单的文本编辑器骨架。如果我们调整窗口的大小，wxTextCtrl的大小不会像我们期望的那样改变。\n\nAbusolute.h\n\n    #ifndef ABSOLUTE_ABSOLUTE_H\n    #define ABSOLUTE_ABSOLUTE_H\n    \n    #include \"wx/wx.h\"\n    \n    class Absolute : public wxFrame {\n    public:\n        Absolute(const wxString&& title);\n        wxMenuBar* menubar;\n        wxMenu* file;\n        wxMenu* edit;\n        wxMenu* help;\n        wxTextCtrl* textctrl;\n    };\n    \n    \n    #endif //ABSOLUTE_ABSOLUTE_H\n\nAbsolute.cpp\n\n    #include \"Absolute.h\"\n    \n    Absolute::Absolute(const wxString &&title)\n        :wxFrame(nullptr, -1, title, wxDefaultPosition, wxSize(350, 250))\n    {\n        wxPanel* panel = new wxPanel(this, -1);\n    \n        menubar = new wxMenuBar;\n        file = new wxMenu;\n        edit = new wxMenu;\n        help = new wxMenu;\n    \n        menubar->Append(file, wxT(\"&File\"));\n        menubar->Append(edit, wxT(\"&Edit\"));\n        menubar->Append(help, wxT(\"&Help\"));\n    \n        this->SetMenuBar(menubar);\n    \n        textctrl = new wxTextCtrl(panel, -1, wxT(\"\"), wxDefaultPosition,\n                wxSize(250, 150), wxTE_MULTILINE);\n    \n    }\n\n\nmain.h\n\n    #ifndef ABSOLUTE_MAIN_H\n    #define ABSOLUTE_MAIN_H\n    \n    #include \"wx/wx.h\"\n    \n    class MyApp : public wxApp {\n    public:\n        virtual bool OnInit();\n    };\n    \n    #endif //ABSOLUTE_MAIN_H\n    \n\n\nmain.cpp\n\n    #include \"main.h\"\n    #include \"Absolute.h\"\n    \n    wxIMPLEMENT_APP(MyApp);\n    \n    bool MyApp::OnInit() {\n        Absolute* absolute = new Absolute(wxT(\"Absolute\"));\n        absolute->Show(true);\n    \n        return true;\n    }\n\n\n\nCMakeLists.txt\n\n    cmake_minimum_required(VERSION 3.16)\n    project(Absolute)\n    \n    set(CMAKE_CXX_STANDARD 14)\n    \n    add_definitions(\n            -DwxMSVC_VERSION_AUTO=1\n            -DwxMSVC_VERSION_COMPAT=1\n            -DUNICODE=1\n    )\n    \n    include_directories(\n            $ENV{WXWIN}/include\n            $ENV{WXWIN}/lib/vc14x_lib/mswud\n    )\n    \n    link_directories(\n            $ENV{WXWIN}/lib/vc14x_lib\n    )\n    \n    add_executable(\n            ${PROJECT_NAME}\n            main.cpp\n            main.h Absolute.cpp Absolute.h)\n    \n    if (CMAKE_SYSTEM_NAME STREQUAL \"Windows\")\n        set_property(\n                TARGET ${PROJECT_NAME} PROPERTY\n                WIN32_EXECUTABLE true\n        )\n    endif ()\n    \n    set_property(\n            TARGET ${PROJECT_NAME} PROPERTY\n            MSVC_RUNTIME_LIBRARY \"MultiThreaded$<$<CONFIG:Debug>:Debug>\"\n    )\n    \n    target_link_libraries(\n            ${PROJECT_NAME}\n            shlwapi.lib\n            version.lib\n            comctl32.lib\n            rpcrt4.lib\n            ws2_32.lib\n            wininet.lib\n            winmm.lib\n            wxmsw32ud_gl.lib\n            wxmsw32ud_stc.lib\n            wxmsw32ud_richtext.lib\n            wxmsw32ud_propgrid.lib\n            wxmsw32ud_ribbon.lib\n            wxmsw32ud_aui.lib\n            wxmsw32ud_xrc.lib\n            wxbase32ud_xml.lib\n            wxmsw32ud_qa.lib\n            wxmsw32ud_webview.lib\n            wxmsw32ud_html.lib\n            wxmsw32ud_media.lib\n            wxmsw32ud_adv.lib\n            wxmsw32ud_core.lib\n            wxbase32ud_net.lib\n            wxbase32ud.lib\n            wxscintillad.lib\n            wxexpatd.lib\n            wxtiffd.lib\n            wxjpegd.lib\n            wxpngd.lib\n            wxzlibd.lib\n            wxregexud.lib\n            wxmsw32u_gl.lib\n    )\n\n本例使用绝对定位。我们将wxTextCtrl小部件放置在面板小部件上。\n\n    textctrl = new wxTextCtrl(panel, -1, wxT(\"\"), wxDefaultPosition,\n        wxSize(250, 150), wxTE_MULTILINE);\n\n我们在wxTextCtrl小部件的构造函数中执行绝对定位。在本例中，我们为小部件提供了默认位置。宽度为250px，高度为150px。\n\n![image.png]({$WP_ASSETS}/b1ae96b56a9d7948d49354ea6ba27a01.png)\n\n![image.png]({$WP_ASSETS}/cc8c9d957fb3ea48f4cfeab6e7d94a9d.png)\n\n调整窗口大小时，文本控件的大小不会改变。\n\n\n","_id":"16"}