{"id":"01jdccgcfhbgdxd82ncbm0qep1","add_time_ms":1732361335281,"type":"doc","title":"4.最简单的服务","_id":"179","char_count":{"word":238,"char_without_spaces":1072,"char_with_spaces":1287,"char_all":1344},"content":"### 编写最简单的服务\n\n#### 编写test.lua文件\n\nlocal skynet = require \"skynet\"\n\nskynet.start(function()\n   skynet.error(\"最简单的服务\")\nend)\n\n\n### 启动服务\n\n\n#### 编写test_config配置文件\n\n-- 搜索路径配置\nroot = \"./\"\nluaservice = root .. \"service/?.lua;\" .. root .. \"project/?.lua\"\nlualoader = root .. \"lualib/loader.lua\"\nlua_path = root .. \"lualib/?.lua;\" .. root .. \"lualib/?/init.lua\"\nlua_cpath = root .. \"luaclib/?.so\"\n\n--基本参数配置\nthread = 8\nlogger = nil\nharbor = 1\naddress = \"127.0.0.1:2606\"\nmaster = \"127.0.0.1:2024\"\n\n--启动test服务\nstart = \"test\"\nbootstrap = \"snlua bootstrap\"\nstandalone = \"0.0.0.0:2024\"\ncpath = root .. \"cservice/?.so\"\n\n#### 执行配置文件启动服务\n\n在linux终端执行如下命令：\n    ./skynet test_config\n \n 执行成功后终端会打印如下信息：\n      [:01000002] LAUNCH snlua bootstrap\n      [:01000003] LAUNCH snlua launcher\n      [:01000004] LAUNCH snlua cmaster\n      [:01000004] master listen socket 0.0.0.0:2024\n      [:01000005] LAUNCH snlua cslave\n      [:01000005] slave connect to master 127.0.0.1:2024\n      [:01000004] connect from 127.0.0.1:47116 4\n      [:01000006] LAUNCH harbor 1 16777221\n      [:01000004] Harbor 1 (fd=4) report 127.0.0.1:2526\n      [:01000005] Waiting for 0 harbors\n      [:01000005] Shakehand ready\n      [:01000007] LAUNCH snlua datacenterd\n      [:01000008] LAUNCH snlua service_mgr\n      [:01000009] LAUNCH snlua test\n      [:01000009] 创建最简单的服务\n      [:01000002] KILL self","edit_time_ms":1732427033621,"snapshots":[{"id":"01jdccsw5d1jbv3pw56e78a6e8","item_id":"01jdccgcfhbgdxd82ncbm0qep1","add_time_ms":1732361646253,"hash":"52003590f112d04d983e5d571a88a061","length":113,"char_count_char_with_spaces":103,"char_count_char_without_spaces":94,"char_count_word":29,"version_key":1},{"id":"01jdeav8f3tkddn6s66f3ragwx","item_id":"01jdccgcfhbgdxd82ncbm0qep1","add_time_ms":1732426703331,"hash":"5064723199294badc201dbe2d7aa8609","length":577,"char_count_char_with_spaces":543,"char_count_char_without_spaces":485,"char_count_word":103,"version_key":1},{"id":"01jdebdjrzd1rrx1x8jjw3svn6","item_id":"01jdccgcfhbgdxd82ncbm0qep1","add_time_ms":1732427303711,"hash":"bbb08d5c33f1b83b66e250efe66ceca1","length":1344,"char_count_char_with_spaces":1287,"char_count_char_without_spaces":1072,"char_count_word":238,"version_key":1}]}