{"id":"01g6x1f3t63m0y05wzves57yvw","add_time_ms":1656684515143,"type":"doc","title":"使用lua-protobuf","_id":"5","content":"1.安装luarocks(lua包管理器）\n    访问luarocks官网（https://luarocks.org/）按说明完成安装。\n    例如在Unix系统中安装LuaRocks：\n    $ wget https://luarocks.org/releases/luarocks-3.9.0.tar.gz\n    $ tar zxpf luarocks-3.9.0.tar.gz\n    $ cd luarocks-3.9.0\n    $ ./configure && make && sudo make install\n    $ sudo luarocks install luasocket\n    $ lua\n    Lua 5.3.5 Copyright (C) 1994-2018 Lua.org, PUC-Rio\n    > require \"socket\"\n\n2.安装lua-protobuf\n    最简单的安装方法是使用Lua生态的包管理器luarocks进行安装：\n        luarocks install lua-protobuf\n    你也可以使用luarocks从源码安装（这样装的版本会更新一些）：\n        git clone https://github.com/starwing/lua-protobuf\n        luarocks make rockspecs/lua-protobuf-scm-1.rockspec\n\n3.集成lua-protobuf库\n    将步骤2中生成的pb.so文件放在luaclib文件夹下\n    将protoc.lua放在lualib文件下，即可完成skynet对lua-protobuf的集成\n\n   注意: 以上步骤所需要的lua版本要统一为skynet官网修改过的lua5.4版本,否则编译过程会提示错误.并且pb.so文件可能无法被skynet识别,或者提示一些函数接口找不到等错误.\n\n4.测试\n\n\n\n\n![skynet-lua-proto文档1]({$WP_ASSETS}/d727b54e808869e34c8c7f764ab5f5a2.png)\n\n![skynet-lua-proto文档2]({$WP_ASSETS}/5abd0ea89c43cd4fbd55e3d1c6825dcb.png)\n\n![skynet-lua-proto文档3]({$WP_ASSETS}/d9853f3de7a49a2b05cb71e8336bc200.png)\n\n![skynet-lua-proto文档4]({$WP_ASSETS}/94821a810a67489c5e5680f46552b78a.png)\n\n![skynet-lua-proto文档5]({$WP_ASSETS}/5332659cf8ef7e9db0094025339534e1.png)\n\n![skynet-lua-proto文档6]({$WP_ASSETS}/e42c91cfcf58ff9f28894662ae6cf60a.png)\n\n![skynet-lua-proto文档7]({$WP_ASSETS}/706e149b72a8a8f7bc0a301d93e1b40b.png)\n\n![skynet-lua-proto文档8]({$WP_ASSETS}/2c33e11ec9b62005724e081932ea53bb.png)\n\n![skynet-lua-proto文档9]({$WP_ASSETS}/7a4ec72c8484f2d487d99014a79bf4ba.png)\n","edit_time_ms":1714834299548,"snapshots":[{"id":"01jdc89vwkp40kq097z66j7v4j","item_id":"01g6x1f3t63m0y05wzves57yvw","add_time_ms":1732356927379,"hash":"844c6ebc4f37c641b46fc432b603d16e","length":1534,"char_count_char_with_spaces":1487,"char_count_char_without_spaces":1370,"char_count_word":288,"version_key":1}],"char_count":{"word":288,"char_without_spaces":1370,"char_with_spaces":1487,"char_all":1534}}