{"id":"01g6x1f3t63m0y05wzves57yvw","add_time_ms":1656684515143,"type":"doc","title":"使用lua-protobuf","_id":"5","content":"1.安装luarocks(lua包管理器）\n    访问luarocks官网（https://luarocks.org/）按说明完成安装。\n    例如在Unix系统中安装LuaRocks：\n    $ wget https://luarocks.org/releases/luarocks-3.9.0.tar.gz\n    $ tar zxpf luarocks-3.9.0.tar.gz\n    $ cd luarocks-3.9.0\n    $ ./configure && make && sudo make install\n    $ sudo luarocks install luasocket\n    $ lua\n    Lua 5.3.5 Copyright (C) 1994-2018 Lua.org, PUC-Rio\n    > require \"socket\"\n\n2.安装lua-protobuf\n    最简单的安装方法是使用Lua生态的包管理器luarocks进行安装：\n        luarocks install lua-protobuf\n    你也可以使用luarocks从源码安装（这样装的版本会更新一些）：\n        git clone https://github.com/starwing/lua-protobuf\n        luarocks make rockspecs/lua-protobuf-scm-1.rockspec\n\n3.集成lua-protobuf库\n    将步骤2中生成的pb.so文件放在luaclib文件夹下\n    将protoc.lua放在lualib文件下，即可完成skynet对lua-protobuf的集成\n\n   注意: 以上步骤所需要的lua版本要统一为skynet官网修改过的lua5.4版本,否则编译过程会提示错误.并且pb.so文件可能无法被skynet识别,或者提示一些函数接口找不到等错误.\n4.测试\n\n","edit_time_ms":1657886182875,"snapshots":[],"char_count":{"word":252,"char_without_spaces":713,"char_with_spaces":830,"char_all":856}}