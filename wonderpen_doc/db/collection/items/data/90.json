{"id":"01hd9dx2q5zepvbj8dzbvfxngf","add_time_ms":1697902398181,"icon":"book","type":"doc","title":"在执行目录生成库文件","_id":"90","char_count":{"word":192,"char_without_spaces":1049,"char_with_spaces":1185,"char_all":1221},"content":"# 控制静态库和共享库的编译位置，这样在 windows 上\n# 我们不需要调整运行可执行文件的路径\nset(CMAKE_ARCHIVE_OUTPUT_DIRECTORY \"${PROJECT_BINARY_DIR}\")\nset(CMAKE_LIBRARY_OUTPUT_DIRECTORY \"${PROJECT_BINARY_DIR}\")\nset(CMAKE_RUNTIME_OUTPUT_DIRECTORY \"${PROJECT_BINARY_DIR}\")\n\n\n# Windows下最新版语法: 将生成的动态依赖库全部复制到目标可执行文件所在的路径\nadd_custom_command(TARGET ${PROJECT_NAME} POST_BUILD\n  COMMAND ${CMAKE_COMMAND} -E copy $<TARGET_RUNTIME_DLLS:${PROJECT_NAME}> $<TARGET_FILE_DIR:${PROJECT_NAME}>\n  COMMAND_EXPAND_LISTS\n  )\n\n\n# 生成的vs工程中所有的第三方库都在External目录中.生成的.lib文件都在生成目录下的lib文件夹内\nset_target_properties(${PROJECT_NAME} PROPERTIES\n    ARCHIVE_OUTPUT_DIRECTORY \"${CMAKE_BINARY_DIR}/lib\"\n    LIBRARY_OUTPUT_DIRECTORY \"${CMAKE_BINARY_DIR}/lib\"\n    FOLDER \"External\"\n)\n\n\n# 复制动态链接库到可执行目录\nadd_custom_command(TARGET ${PROJECT_NAME}\n        POST_BUILD  COMMAND ${CMAKE_COMMAND}\n        -E copy $<TARGET_RUNTIME_DLLS:${PROJECT_NAME}> $<TARGET_FILE_DIR:${PROJECT_NAME}>\n        COMMAND_EXPAND_LISTS )\n\n# 复制资源到可执行路径\nif (EXISTS \"${CMAKE_CURRENT_SOURCE_DIR}/res\")\n    add_custom_command(\n            TARGET ${PROJECT_NAME} POST_BUILD\n            COMMAND ${CMAKE_COMMAND} -E copy_directory\n            ${CMAKE_CURRENT_SOURCE_DIR}/res/\n            ${CMAKE_CURRENT_BINARY_DIR}/res/\n    )\nendif()","edit_time_ms":1698389995341,"snapshots":[{"id":"01hd9e27a98sqb4mqe5hfk2xhs","item_id":"01hd9dx2q5zepvbj8dzbvfxngf","add_time_ms":1697902566729,"hash":"6aaa1ecfab50117904e46a64b75970e0","length":230,"char_count_char_with_spaces":226,"char_count_char_without_spaces":219,"char_count_word":45},{"id":"01hd9pwgr8ahs31v8jk3yg3q97","item_id":"01hd9dx2q5zepvbj8dzbvfxngf","add_time_ms":1697911816968,"hash":"f044f2454e3d1b72c01097614844b9cc","length":461,"char_count_char_with_spaces":446,"char_count_char_without_spaces":422,"char_count_word":84},{"id":"01hdahjet0ps8n324tq9n0x26k","item_id":"01hd9dx2q5zepvbj8dzbvfxngf","add_time_ms":1697939798848,"hash":"db157274f27536c33ba9028c2ea52786","length":474,"char_count_char_with_spaces":459,"char_count_char_without_spaces":435,"char_count_word":95},{"id":"01hdh6tjc12tdn3a3114k9471q","item_id":"01hd9dx2q5zepvbj8dzbvfxngf","add_time_ms":1698163411330,"hash":"a13b4031f54cfbb51ea6ebd34a9f7c60","length":707,"char_count_char_with_spaces":687,"char_count_char_without_spaces":648,"char_count_word":141},{"id":"01hdqzdwpcm661sb0w6x1yp1g2","item_id":"01hd9dx2q5zepvbj8dzbvfxngf","add_time_ms":1698390536908,"hash":"e30c9f15e7cd16346ef30ccdf3bf7f9b","length":1221,"char_count_char_with_spaces":1185,"char_count_char_without_spaces":1049,"char_count_word":192}]}