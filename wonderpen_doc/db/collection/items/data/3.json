{"id":"01fnr125pwnb7fw7g7s4pf3hg8","type":"doc","content":"Win11子系统 Ubuntu 安装 mysql\n\n1.删掉之前安装的mysql, 没有安装过可以忽略.\n    sudo apt remove --purge *mysql*\n    sudo rm -rf /etc/mysql /var /lib/mysql\n    sudo apt remove --purge *mariadb*\n2.更新软件列表和软件\n    sudo apt update\t\t#更新软件列表\n    sudo apt upgrade\t#更新软件\t\n3.安装mysql-server\n    sudo apt install mysql-server\n    安装完后默认开启mysql服务,如果没有开启,可以在终端输入下面的命令开启.\n    sudo service mysql start.\n    开启服务可能会报错:\n    *starting MySQL database server mysqld:No directory, logging in with HOME=/\n    这是mysql日志输出目录没有权限导致的,解决方法是:\n    sudo service mysql stop #停止mysql服务\n    sudo usermod -d /var/lib/mysql/ mysql #启用日志输出目录权限,注意最后一个mysql前有一个空格\n    sudo service mysql start #重启mysql服务\n4.登录mysql数据库\n    mysql -u root -p\t#登录mysql命令\n    Enter password: \t#单击回车键\n    ERROR 1698(28000): Access denied for user 'root'@'localhost'\n    表示mysql禁止用户'root'@'localhost'登入。解决办法是:\n    1.编辑mysql配置文件: sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf\n    在配置文件[mysqld]字段最后加入: skip-grant-tables #不使用密码登录mysql\n    再重新启动mysql: sudo service mysql restart\n    然后再使用命令: mysqladmin -u root password [新的密码]\n    给root用户直接启用新的密码.\n    最后登录:mysql -u root -p\n5.切换数据库\n    use [数据库名];\n    例:use mysql;\n    修改user表属性: update user set plugin='mysql_native_password' where user='root';\n6.查询表\n    字段查询: \tselect [字段1名], [字段2名], [字段3名], ... from [表名];\n    全表查询: \tselect * from [表名];   \n7.退出mysql数据库\n    使用quit命令或者按ctrl+z组合键退出.\n8.使用windows数据库软件连接mysql\n    1.首先需要改变MySQL的配置,执行sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf.\n    2.将找到 bind-address = 127.0.0.1 并注释掉 → # bind-address = 127.0.0.1.\n    3.执行service mysql restart重启 MySQL 服务.\n    4.开启 MySQL 远程访问\n        1.首先登录MySQL.\n        2.执行：GRANT ALL PRIVILEGES ON *.* TO '用户名'@'%'IDENTIFIED BY '密码' WITH GRANT OPTION;新增远程访问用户和用户密码.\n        3.执行 flush privileges;刷新\n    5.打开windows上数据库软件的远程访问MySQL的 终端/客户端.","memo":"","add_time_ms":1637410097000,"_id":"3","title":"使用MySQL数据库","edit_time_ms":1657886022635,"snapshots":[{"id":"01jdc89tsb4zydr6ew4q1segrs","item_id":"01fnr125pwnb7fw7g7s4pf3hg8","add_time_ms":1732356926251,"hash":"d7be03af20391a09cf5cbf0524b36d1f","length":1763,"char_count_char_with_spaces":1716,"char_count_char_without_spaces":1414,"char_count_word":579,"version_key":1}],"char_count":{"word":579,"char_without_spaces":1414,"char_with_spaces":1716,"char_all":1763}}