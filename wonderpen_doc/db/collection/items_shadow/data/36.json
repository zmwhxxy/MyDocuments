{"id":"01hvn4tc3zw8z8jy9wm7dfsh31","add_time_ms":1713327911040,"type":"doc","title":"增强scroll-view","_id":"36","char_count":{"word":40,"char_without_spaces":352,"char_with_spaces":386,"char_all":401},"content":"使用scroll-view实现上拉加载更多和下拉刷新功能\n\n< scroll-view scroll-y\n  lower-threshold=\"100\"\n  enable-back-to-top\n  refresher-enabled\n  refresher-default-style=\"black\"\n  refresher-background=\"#efefef\"\n  refresher-triggered=\"{{isTriggered}}\"\n  bindrefresherrefresh=\"refreshHandler\"\n  bindscrolltolower=\"getMore\"\n  class=\"scroll-y\">\n  < view wx:for=\"{{numList}}\" wx:key=\"*this\" >\n    {{item}}\n  < /view>\n< /scroll-view>\n\ngetMore() {\n    wx.showLoading({\n      title: '数据加载中...',\n    });\n    setTimeout(() => {\n      const lastNum = this.data.numList[this.data.numList.length - 1];\n      const newArr = [lastNum + 1, lastNum + 2, lastNum + 3];\n      this.setData({\n        numList: [...this.data.numList, ...newArr]\n      });\n      wx.hideLoading();\n    }, 1500);\n  }","edit_time_ms":1713338488632}