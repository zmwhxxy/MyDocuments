{"id":"01hvjqk4vq6zseehe94fby9xvb","add_time_ms":1713246933879,"type":"doc","title":"网络请求","_id":"29","char_count":{"word":191,"char_without_spaces":637,"char_with_spaces":1037,"char_all":1088},"content":"在小程序中发起网络请求获取服务器数据需要使用wx.request()接口。\nwx.request请求的域名必须在微信公众平台进行配置，如果使用的wx.request请求未配置的域名，在控制台会有相应的报错。\n\n\n      /*\n      *从服务器获取数据\n      */\n       getData(event) {\n        // 显示loading提示框\n        wx.showLoading({\n          title: '数据加载中...',\n          mask: true\n        })\n\n     console.log('--get data --');\n     wx.request({\n       url: 'https://gmall-prod.atguigu.cn/mall-api/index/findBanner',\n       method: 'GET',\n       data: {},\n       header: {},\n       success: (res)=>{\n          console.log(res);\n       },\n       fail: (err)=>{\n         console.log(err);\n       },\n       complete: () => {\n          wx.hideLoading();\n       }\n     })\n   },\n\n       async delHandler() {\n        const {confirm} = await wx.showModal({\n          title: '提示',\n          content: '是否删除该商品？',\n        })\n        if(confirm) {\n          wx.showToast({\n            title: '删除成功',\n            icon: 'none',\n            duration: 2000\n          })\n        } else {\n          wx.showToast({\n            title: '取消删除',\n            icon: 'error',\n            duration: 2000\n          })\n        }\n       },\n","edit_time_ms":1713317114583}