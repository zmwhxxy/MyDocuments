{"id":"01hwd014jd7mcyekjdn7dcynra","add_time_ms":1714128196174,"icon":"book","type":"doc","title":"skynet.uniqueservice","_id":"56","char_count":{"word":19,"char_without_spaces":175,"char_with_spaces":229,"char_all":238},"content":"function skynet.uniqueservice(global, ...)\n    if global then\n        assert(skynet.call(\".service\", \"lua\", \"GLAUNCH\", ...))\n        return\n    else\n        assert(skynet.call(\".service\", \"lua\", \"LAUNCH\", ...))\n        return\n    end\nend\n\n这个函数接受两个参数：global 和可变数量的参数 ...。\n\nglobal 参数是一个布尔值，用于指示是否创建全局唯一的服务实例。如果 global 为 true，则创建全局唯一的服务实例；如果 global 为 false 或 nil，则创建当前节点唯一的服务实例。\n... 是传递给服务初始化函数的额外参数。\n在函数体内部，根据 global 参数的值，选择调用 .service 服务的不同消息进行服务实例的创建：\n\n如果 global 为 true，则调用 .service 服务的 \"GLAUNCH\" 消息创建全局唯一的服务实例。\n如果 global 为 false 或 nil，则调用 .service 服务的 \"LAUNCH\" 消息创建当前节点唯一的服务实例。\n在消息调用过程中，函数使用 assert 来确保消息调用成功，如果消息调用失败，则会抛出错误。最后，函数会返回创建的服务实例的句柄。","edit_time_ms":1714130365385}